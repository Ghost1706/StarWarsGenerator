<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SWJV</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <h1>Star Wars</h1>
      <p>Star Wars generator for characters with thier images and details</p>
      <div class="card shadow">
        <img src="" alt="..." id="image" />
        <div class="card-body">
          <div class="card-title">
            <div><b>name: </b><span id="characterName">...</span></div>
          </div>
          <div class="card-details">
            <div><b>height: </b><span id="height">...</span></div>
            <div><b>mass: </b><span id="mass">...</span></div>
            <div><b>homeworld: </b><span id="homeworld">...</span></div>
            <div><b>gender: </b><span id="gender">...</span></div>
            <div><b>eye color: </b><span id="eye-color">...</span></div>
            <div><b>species: </b><span id="species">...</span></div>
            <div>
              <a
                href=""
                id="wiki"
                target="_blank"
                rel="noopener noreferrer"
              ></a>
            </div>
          </div>
        </div>
      </div>
      <button class="btn btn-primary">Generate</button>
    </div>
    <script src="jquery-3.5.1.min.js"></script>
    <script src="jquery.magnific-popup.min.js"></script>
    <script>
      $(document).ready(function () {
        const $name = $("#characterName");
        const $height = $("#height");
        const $mass = $("#mass");
        const $homeworld = $("#homeworld");
        const $image = $("#image");
        const $gender = $("#gender");
        const $eyeColor = $("#eye-color");
        const $species = $("#species");
        const $wiki = $("#wiki");

        $(document).on("click", "button", function () {
          let $randomNumber = Math.ceil(Math.random() * 80);

          $name.html("<em>Loading...</em>");
          $height.html("<em>Loading...</em>");
          $mass.html("<em>Loading...</em>");
          $homeworld.html("<em>Loading...</em>");
          $gender.html("<em>Loading...</em>");
          $eyeColor.html("<em>Loading...</em>");
          $species.html("<em>Loading...</em>");
          $wiki.html("<em>Loading...</em>");
          $image.attr("alt", "Loading...");

          $.get(
            `https://akabab.github.io/starwars-api/api/id/${$randomNumber}.json`,
            function (character) {
              console.log(character);

              $name.html(character.name);
              $height.html(character.height);
              $mass.html(character.mass);
              $homeworld.html(character.homeworld);
              $gender.html(character.gender);
              $eyeColor.html(character.eyeColor);
              $species.html(character.species);
              $image.attr("src", `${character.image}`);
              $wiki.attr("href", `${character.wiki}`);
              $wiki.html("More Information");
            }
          );
        });
      });
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
